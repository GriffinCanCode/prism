# PSG-003: PrismDoc Standards

**Document ID**: PSG-003  
**Status**: Draft  
**Type**: Core Style Convention  
**Author**: Prism Language Team  
**Created**: 2025-01-17  
**Last Modified**: 2025-01-17  

## Document Metadata

| Field | Value |
|-------|-------|
| **Area** | Documentation & Markup |
| **Priority** | Core |
| **Dependencies** | PSG-001, PSG-002, PLD-004 |
| **Adoption Phase** | 1 |
| **Stability** | Experimental |

## Abstract

PrismDoc Standards establish documentation as a core language feature integrated into the compiler architecture, type system, and AI-first development philosophy. This document takes full ownership of all documentation standards, requirements, and validation rules for Prism code. The system combines JSDoc-compatible syntax with Prism-specific markup, enforces separation of concerns through required responsibility declarations, and validates documentation at pre-compilation time as type errors. The standards create a comprehensive documentation ecosystem that serves humans, AI systems, and automated tooling while maintaining the brevity and clarity principles established in PSG-001 and PSG-002.

**Note**: This document supersedes and extends the basic comment syntax defined in PSG-001, and works in conjunction with the responsibility annotation system introduced in PSG-002.

## Table of Contents

1. [Philosophy](#philosophy)
2. [Core Documentation System](#core-documentation-system)
3. [PrismDoc Markup Language](#prismdoc-markup-language)
4. [Required Annotations](#required-annotations)
5. [JSDoc Compatibility](#jsdoc-compatibility)
6. [AI Integration Features](#ai-integration-features)
7. [Compiler Integration](#compiler-integration)
8. [Validation & Linting](#validation--linting)
9. [Examples](#examples)
10. [Tooling Integration](#tooling-integration)
11. [Migration Strategy](#migration-strategy)

## Philosophy

### Core Principles

1. **Documentation as Code**: Documentation is part of the language, not an afterthought
2. **AI-First Design**: Every documentation element serves both human and AI comprehension
3. **Responsibility Enforcement**: Documentation enforces SoC and SRP through required annotations
4. **Compile-Time Validation**: Missing or invalid documentation is a type error
5. **Brevity with Clarity**: Concise documentation that provides maximum semantic value
6. **Semantic Integration**: Documentation integrates with semantic types and effect system
7. **Universal Accessibility**: Documentation works across all mediums and tools

### Documentation Philosophy

**"Documentation is the semantic layer that bridges human intent and machine understanding."**

PrismDoc treats documentation as a first-class language feature that:
- **Enforces architectural principles** through required responsibility declarations
- **Enables AI comprehension** through structured metadata
- **Provides semantic context** for types, functions, and modules
- **Validates at compile-time** to prevent documentation drift
- **Integrates with tooling** for automated generation and analysis

### Integration with Language Design

PrismDoc is deeply integrated with Prism's core language features:

```prism
// Documentation integrates with semantic types
@responsibility "Represents secure monetary value with currency safety"
@param amount "The monetary amount with currency validation"
@returns "Validated money instance or conversion error"
@throws CannotConvertCurrency "When currencies are incompatible"
@aiContext {
    purpose: "Safe currency conversion with business rule validation",
    constraints: ["Exchange rates must be current", "Precision preserved"],
    security: "No currency arbitrage opportunities allowed"
}
type Money<Currency> = Decimal where {
    precision: 2,
    currency: Currency,
    non_negative: true
} {
    /// Converts money to another currency using current exchange rates.
    /// 
    /// This function performs safe currency conversion with validation
    /// of exchange rates and precision preservation.
    /// 
    /// @param target_currency The currency to convert to
    /// @param exchange_rate Current exchange rate from reliable source
    /// @returns Converted money in target currency
    /// @throws CannotConvertCurrency When conversion is invalid
    /// @example ```prism
    /// let usd = 100.00.USD
    /// let eur = usd.convertTo(EUR, 0.85)?
    /// // Result: 85.00 EUR
    /// ```
    @responsibility "Safely converts currency with exchange rate validation"
    function convertTo<TargetCurrency>(
        target_currency: TargetCurrency,
        exchange_rate: ExchangeRate
    ) -> Result<Money<TargetCurrency>, CurrencyError>
}
```

## Core Documentation System

### Documentation Levels

PrismDoc operates at multiple levels of the language hierarchy:

```prism
// 1. Module-level documentation (REQUIRED)
@responsibility "Handles secure user authentication and session management"
@module "UserAuth"
@description "Provides authentication services with multi-factor support"
@author "Security Team"
@version "2.1.0"
@since "1.0.0"
@stability Stable

module UserAuth {
    // 2. Section-level documentation (OPTIONAL)
    /// Core authentication types with security constraints
    /// 
    /// All types in this section implement security-first design
    /// with compile-time validation of constraints.
    section types {
        // 3. Type-level documentation (REQUIRED for public types)
        /// Represents an authenticated user session with security context.
        /// 
        /// Sessions are automatically expired and include security metadata
        /// for audit trails and compliance reporting.
        /// 
        /// @security "Contains sensitive authentication tokens"
        /// @compliance ["SOX", "GDPR", "HIPAA"]
        /// @example ```prism
        /// let session = Session {
        ///     token: generateSecureToken(),
        ///     user_id: user.id,
        ///     expires: now() + 1.hour,
        ///     mfa_verified: true
        /// }
        /// ```
        @responsibility "Maintains secure session state with automatic expiration"
        type Session = {
            token: SecureToken,
            user_id: UserId,
            expires: Timestamp,
            mfa_verified: Boolean
        }
    }
    
    section interface {
        // 4. Function-level documentation (REQUIRED for public functions)
        /// Authenticates user credentials and creates secure session.
        /// 
        /// Performs comprehensive authentication including password validation,
        /// MFA verification, and security policy enforcement.
        /// 
        /// @param email User's email address (must be verified)
        /// @param password Plain text password (securely hashed)
        /// @param mfa_code Multi-factor authentication code
        /// @returns Authenticated session or specific error
        /// @throws CannotAuthenticateUser When credentials are invalid
        /// @throws AccountLocked When account is temporarily locked
        /// @throws MFARequired When MFA is required but not provided
        /// @effects [Database.Query, Audit.Log, Security.Validate]
        /// @performance "< 500ms under normal load"
        /// @example ```prism
        /// let result = authenticate(
        ///     email: "user@example.com",
        ///     password: "securePass123!",
        ///     mfa_code: "123456"
        /// )
        /// match result {
        ///     Ok(session) => handleSuccess(session),
        ///     Err(error) => handleAuthError(error)
        /// }
        /// ```
        @responsibility "Authenticates user with comprehensive security validation"
        function authenticate(
            email: Email,
            password: PlainPassword,
            mfa_code: Option<MFACode>
        ) -> Result<Session, AuthError>
    }
}
```

### Documentation Syntax

PrismDoc uses a hybrid syntax combining JSDoc compatibility with Prism-specific features:

```prism
/// Standard documentation comment (JSDoc-style)
/// 
/// Multi-line descriptions use triple-slash comments
/// with automatic line continuation and formatting.
/// 
/// @tag_name parameter_or_value
/// @another_tag "string value"
/// @complex_tag {
///     field: "value",
///     another_field: 123
/// }
/// 
/// @aiContext {
///     purpose: "Brief description for AI systems",
///     constraints: ["Important limitations"],
///     examples: ["Usage patterns"]
/// }
@responsibility "Single responsibility statement (REQUIRED)"
function example() -> Result<(), Error>
```

## PrismDoc Markup Language

### Custom Markup System

PrismDoc includes a custom markup system optimized for code documentation:

#### Code References

```prism
/// References to code elements use special syntax:
/// 
/// - `Type` - Reference to type
/// - `function()` - Reference to function
/// - `Module.function()` - Qualified reference
/// - `@field` - Reference to field
/// - `#Section` - Reference to section
/// - `$variable` - Reference to variable
/// 
/// @example ```prism
/// // Code blocks with syntax highlighting
/// let user = User {
///     id: generateId(),
///     email: "test@example.com"
/// }
/// ```
@responsibility "Demonstrates markup syntax for code references"
function markupExample() -> Result<(), Error>
```

#### Semantic Links

```prism
/// Semantic links connect related concepts:
/// 
/// - `->Type` - "produces" or "returns" 
/// - `<-Type` - "consumes" or "requires"
/// - `<->Type` - "bidirectional relationship"
/// - `~Type` - "similar to" or "related to"
/// - `!Type` - "not" or "opposite of"
/// 
/// Example: This function `->Session` after validating `<-Credentials`
/// and is `~authenticate()` but with additional MFA requirements.
@responsibility "Demonstrates semantic linking in documentation"
function semanticLinkExample() -> Result<Session, Error>
```

#### Business Context Markup

```prism
/// Business context uses domain-specific markup:
/// 
/// - `[Domain]` - Business domain reference
/// - `{Entity}` - Business entity reference
/// - `<Rule>` - Business rule reference
/// - `(Process)` - Business process reference
/// - `%Metric` - Business metric reference
/// 
/// Example: This function handles `(Payment Processing)` for `{Customer}`
/// entities within the `[E-commerce]` domain, enforcing `<PCI Compliance>`
/// and tracking `%Transaction Success Rate`.
@responsibility "Processes payments with business rule compliance"
function businessContextExample() -> Result<Transaction, Error>
```

#### AI-Specific Markup

```prism
/// AI-specific markup for machine comprehension:
/// 
/// - `@ai:intent` - Primary intent for AI systems
/// - `@ai:pattern` - Design pattern being used
/// - `@ai:constraint` - Constraints for AI to understand
/// - `@ai:example` - AI-focused usage examples
/// - `@ai:warning` - Important warnings for AI systems
/// 
/// @ai:intent "Secure authentication with comprehensive validation"
/// @ai:pattern "Command pattern with result validation"
/// @ai:constraint "Never log sensitive authentication data"
/// @ai:warning "MFA codes are single-use and time-sensitive"
@responsibility "Provides AI-comprehensible authentication service"
function aiMarkupExample() -> Result<Session, Error>
```

## Required Annotations

### Module-Level Requirements

**Every module MUST include these annotations:**

```prism
@responsibility "Clear statement of module's single responsibility"
@module "ModuleName"  // Must match actual module name
@description "Brief functional description"
@author "Team or individual responsible"

// Optional but recommended
@version "Semantic version number"
@since "When this module was introduced"
@stability Experimental | Stable | Deprecated
@dependencies ["List", "Of", "Dependencies"]
```

**Annotation Requirements:**
- `@responsibility`: Single, clear responsibility statement (max 80 chars)
- `@module`: Module name matching the actual module declaration
- `@description`: Brief functional description (max 100 chars, aligned with PSG-001 line length standards)
- `@author`: Team or individual responsible

**Note**: The `@responsibility` annotation system is introduced in PSG-002 and fully specified here.

### Function-Level Requirements

**Every public function MUST include:**

```prism
/// Brief description of what the function does
/// 
/// Longer description with implementation details,
/// business context, and usage guidance.
/// 
/// @param name Description of parameter
/// @returns Description of return value
/// @throws ErrorType When this error occurs
/// @effects [List, Of, Effects]
/// @example ```prism
/// // Working code example
/// ```
@responsibility "Single responsibility statement"
function publicFunction() -> Result<T, E>
```

### Type-Level Requirements

**Every public type MUST include:**

```prism
/// Description of what this type represents
/// 
/// Business meaning, constraints, and usage context.
/// 
/// @field name Description of field
/// @invariant Description of invariants
/// @example ```prism
/// // Construction example
/// ```
@responsibility "What this type is responsible for representing"
type PublicType = {
    // fields
}
```

## JSDoc Compatibility

### Supported JSDoc Tags

PrismDoc supports standard JSDoc tags for compatibility:

```prism
/// Standard JSDoc tags supported:
/// 
/// @param {Type} name - Parameter description
/// @returns {Type} - Return value description
/// @throws {ErrorType} - Exception description
/// @example - Code example
/// @since - Version introduced
/// @deprecated - Deprecation notice
/// @author - Author information
/// @version - Version information
/// @see - Related references
/// @todo - Future improvements
/// @note - Additional notes
/// @warning - Important warnings
/// @internal - Internal use only
/// @override - Overrides parent method
/// @abstract - Abstract method
/// @static - Static method
/// @readonly - Read-only property
/// @async - Asynchronous function
/// @generator - Generator function
/// @callback - Callback function
/// @event - Event description
/// @fires - Events fired
/// @listens - Events listened to
/// @mixes - Mixin information
/// @namespace - Namespace declaration
/// @memberof - Member of namespace
/// @module - Module declaration
/// @requires - Dependencies
/// @exports - Exports
/// @default - Default value
/// @constant - Constant value
/// @enum - Enumeration
/// @typedef - Type definition
/// @interface - Interface definition
/// @implements - Interface implementation
/// @extends - Inheritance
/// @mixin - Mixin declaration
/// @borrows - Borrowed functionality
/// @augments - Augmented functionality
/// @lends - Lends functionality
/// @constructs - Constructor
/// @class - Class declaration
/// @classdesc - Class description
/// @public - Public visibility
/// @private - Private visibility
/// @protected - Protected visibility
/// @static - Static member
/// @instance - Instance member
/// @inner - Inner member
/// @global - Global member
/// @readonly - Read-only member
/// @kind - Kind of symbol
/// @scope - Scope of symbol
/// @access - Access level
/// @ignore - Ignore in documentation
/// @hideconstructor - Hide constructor
/// @package - Package visibility
/// @summary - Summary description
/// @description - Detailed description
/// @tutorial - Tutorial reference
/// @copyright - Copyright information
/// @license - License information
/// @file - File description
/// @fileoverview - File overview
/// @overview - Overview
/// @namespace - Namespace
/// @function - Function
/// @method - Method
/// @var - Variable
/// @member - Member
/// @property - Property
/// @prop - Property (alias)
/// @type - Type information
/// @this - This context
/// @variation - Variation
/// @inheritdoc - Inherit documentation
/// @override - Override parent
/// @readonly - Read-only
/// @final - Final implementation
/// @sealed - Sealed implementation
/// @virtual - Virtual method
/// @abstract - Abstract method
/// @static - Static method
/// @async - Asynchronous
/// @generator - Generator
/// @yields - Yield value
/// @next - Next value
/// @return - Return value (alias)
/// @arg - Argument (alias)
/// @argument - Argument (alias)
/// @config - Configuration
/// @default - Default value
/// @defaultvalue - Default value (alias)
/// @optional - Optional parameter
/// @nullable - Nullable type
/// @non-null - Non-null type
@responsibility "Demonstrates JSDoc compatibility"
function jsdocCompatible() -> Result<(), Error>
```

### Prism-Specific Extensions

**Extensions beyond JSDoc:**

```prism
/// Prism-specific annotations:
/// 
/// @responsibility - Required responsibility statement
/// @effects - Effect system integration
/// @capability - Capability requirements
/// @aiContext - AI comprehension metadata
/// @semantic - Semantic type information
/// @business - Business context
/// @compliance - Compliance requirements
/// @security - Security considerations
/// @performance - Performance characteristics
/// @scalability - Scalability considerations
/// @reliability - Reliability requirements
/// @maintainability - Maintainability notes
/// @testability - Testing considerations
/// @accessibility - Accessibility features
/// @internationalization - i18n considerations
/// @localization - l10n considerations
/// @privacy - Privacy implications
/// @audit - Audit requirements
/// @monitoring - Monitoring needs
/// @alerting - Alerting configuration
/// @logging - Logging requirements
/// @metrics - Metrics collection
/// @tracing - Distributed tracing
/// @debugging - Debugging information
/// @profiling - Performance profiling
/// @benchmarking - Benchmark data
/// @load_testing - Load testing results
/// @stress_testing - Stress testing results
/// @integration_testing - Integration test info
/// @unit_testing - Unit test coverage
/// @acceptance_testing - Acceptance criteria
/// @regression_testing - Regression test info
/// @smoke_testing - Smoke test coverage
/// @end_to_end_testing - E2E test scenarios
/// @contract_testing - Contract test info
/// @property_testing - Property-based tests
/// @mutation_testing - Mutation test results
/// @fuzz_testing - Fuzz testing results
/// @chaos_testing - Chaos engineering
/// @disaster_recovery - DR procedures
/// @backup_recovery - Backup procedures
/// @high_availability - HA configuration
/// @fault_tolerance - Fault tolerance
/// @circuit_breaker - Circuit breaker config
/// @retry_policy - Retry configuration
/// @timeout_policy - Timeout configuration
/// @rate_limiting - Rate limiting config
/// @throttling - Throttling configuration
/// @caching - Caching strategy
/// @database - Database requirements
/// @storage - Storage requirements
/// @networking - Network requirements
/// @infrastructure - Infrastructure needs
/// @deployment - Deployment information
/// @configuration - Configuration options
/// @environment - Environment variables
/// @secrets - Secret management
/// @certificates - Certificate management
/// @encryption - Encryption requirements
/// @authentication - Auth requirements
/// @authorization - Authz requirements
/// @session_management - Session handling
/// @token_management - Token handling
/// @key_management - Key handling
/// @certificate_management - Cert handling
/// @vulnerability - Security vulnerabilities
/// @threat_model - Threat modeling
/// @risk_assessment - Risk assessment
/// @penetration_testing - Pentest results
/// @security_audit - Security audit results
/// @compliance_audit - Compliance audit
/// @code_review - Code review notes
/// @architecture_review - Architecture review
/// @design_review - Design review notes
/// @security_review - Security review
/// @performance_review - Performance review
/// @scalability_review - Scalability review
/// @reliability_review - Reliability review
/// @maintainability_review - Maintainability review
/// @usability_review - Usability review
/// @accessibility_review - Accessibility review
/// @internationalization_review - i18n review
/// @localization_review - l10n review
/// @privacy_review - Privacy review
/// @legal_review - Legal review
/// @business_review - Business review
/// @product_review - Product review
/// @user_experience_review - UX review
/// @user_interface_review - UI review
/// @visual_design_review - Visual design review
/// @interaction_design_review - Interaction design review
/// @information_architecture_review - IA review
/// @content_strategy_review - Content strategy review
/// @content_design_review - Content design review
/// @copywriting_review - Copywriting review
/// @editorial_review - Editorial review
/// @translation_review - Translation review
/// @localization_testing - Localization testing
/// @internationalization_testing - i18n testing
/// @accessibility_testing - Accessibility testing
/// @usability_testing - Usability testing
/// @user_acceptance_testing - UAT results
/// @beta_testing - Beta testing results
/// @alpha_testing - Alpha testing results
/// @pilot_testing - Pilot testing results
/// @field_testing - Field testing results
/// @production_testing - Production testing
/// @canary_testing - Canary testing
/// @blue_green_testing - Blue-green testing
/// @shadow_testing - Shadow testing
/// @a_b_testing - A/B testing results
/// @multivariate_testing - Multivariate testing
/// @feature_flag_testing - Feature flag testing
/// @rollout_strategy - Rollout strategy
/// @rollback_strategy - Rollback strategy
/// @incident_response - Incident response
/// @post_mortem - Post-mortem analysis
/// @lessons_learned - Lessons learned
/// @best_practices - Best practices
/// @anti_patterns - Anti-patterns to avoid
/// @code_smells - Code smells identified
/// @technical_debt - Technical debt notes
/// @refactoring - Refactoring opportunities
/// @optimization - Optimization opportunities
/// @modernization - Modernization plans
/// @migration - Migration procedures
/// @upgrade - Upgrade procedures
/// @downgrade - Downgrade procedures
/// @compatibility - Compatibility matrix
/// @interoperability - Interoperability notes
/// @integration - Integration points
/// @api_design - API design decisions
/// @protocol_design - Protocol design
/// @data_model - Data model design
/// @schema_design - Schema design
/// @database_design - Database design
/// @storage_design - Storage design
/// @caching_design - Caching design
/// @networking_design - Network design
/// @security_design - Security design
/// @authentication_design - Auth design
/// @authorization_design - Authz design
/// @session_design - Session design
/// @token_design - Token design
/// @key_design - Key design
/// @certificate_design - Certificate design
/// @encryption_design - Encryption design
/// @hashing_design - Hashing design
/// @signing_design - Signing design
/// @verification_design - Verification design
/// @validation_design - Validation design
/// @sanitization_design - Sanitization design
/// @normalization_design - Normalization design
/// @transformation_design - Transformation design
/// @serialization_design - Serialization design
/// @deserialization_design - Deserialization design
/// @compression_design - Compression design
/// @decompression_design - Decompression design
/// @encoding_design - Encoding design
/// @decoding_design - Decoding design
/// @parsing_design - Parsing design
/// @generation_design - Generation design
/// @rendering_design - Rendering design
/// @templating_design - Templating design
/// @formatting_design - Formatting design
/// @styling_design - Styling design
/// @layout_design - Layout design
/// @responsive_design - Responsive design
/// @adaptive_design - Adaptive design
/// @progressive_design - Progressive design
/// @inclusive_design - Inclusive design
/// @universal_design - Universal design
/// @accessible_design - Accessible design
/// @sustainable_design - Sustainable design
/// @ethical_design - Ethical design
/// @privacy_by_design - Privacy by design
/// @security_by_design - Security by design
/// @performance_by_design - Performance by design
/// @scalability_by_design - Scalability by design
/// @reliability_by_design - Reliability by design
/// @maintainability_by_design - Maintainability by design
/// @testability_by_design - Testability by design
/// @observability_by_design - Observability by design
/// @monitorability_by_design - Monitorability by design
/// @debuggability_by_design - Debuggability by design
/// @supportability_by_design - Supportability by design
/// @operability_by_design - Operability by design
/// @deployability_by_design - Deployability by design
/// @configurability_by_design - Configurability by design
/// @extensibility_by_design - Extensibility by design
/// @modularity_by_design - Modularity by design
/// @composability_by_design - Composability by design
/// @reusability_by_design - Reusability by design
/// @portability_by_design - Portability by design
/// @interoperability_by_design - Interoperability by design
/// @compatibility_by_design - Compatibility by design
/// @evolvability_by_design - Evolvability by design
/// @adaptability_by_design - Adaptability by design
/// @flexibility_by_design - Flexibility by design
/// @agility_by_design - Agility by design
/// @resilience_by_design - Resilience by design
/// @robustness_by_design - Robustness by design
/// @fault_tolerance_by_design - Fault tolerance by design
/// @error_handling_by_design - Error handling by design
/// @recovery_by_design - Recovery by design
/// @self_healing_by_design - Self-healing by design
/// @self_monitoring_by_design - Self-monitoring by design
/// @self_diagnosing_by_design - Self-diagnosing by design
/// @self_repairing_by_design - Self-repairing by design
/// @self_optimizing_by_design - Self-optimizing by design
/// @self_configuring_by_design - Self-configuring by design
/// @self_managing_by_design - Self-managing by design
/// @autonomous_by_design - Autonomous by design
/// @intelligent_by_design - Intelligent by design
/// @adaptive_by_design - Adaptive by design
/// @learning_by_design - Learning by design
/// @evolving_by_design - Evolving by design
/// @improving_by_design - Improving by design
/// @optimizing_by_design - Optimizing by design
/// @innovating_by_design - Innovating by design
/// @creating_by_design - Creating by design
/// @inventing_by_design - Inventing by design
/// @discovering_by_design - Discovering by design
/// @exploring_by_design - Exploring by design
/// @experimenting_by_design - Experimenting by design
/// @researching_by_design - Researching by design
/// @prototyping_by_design - Prototyping by design
/// @validating_by_design - Validating by design
/// @verifying_by_design - Verifying by design
/// @testing_by_design - Testing by design
/// @measuring_by_design - Measuring by design
/// @monitoring_by_design - Monitoring by design
/// @observing_by_design - Observing by design
/// @analyzing_by_design - Analyzing by design
/// @understanding_by_design - Understanding by design
/// @explaining_by_design - Explaining by design
/// @documenting_by_design - Documenting by design
/// @communicating_by_design - Communicating by design
/// @collaborating_by_design - Collaborating by design
/// @sharing_by_design - Sharing by design
/// @contributing_by_design - Contributing by design
/// @participating_by_design - Participating by design
/// @engaging_by_design - Engaging by design
/// @connecting_by_design - Connecting by design
/// @networking_by_design - Networking by design
/// @partnering_by_design - Partnering by design
/// @allying_by_design - Allying by design
/// @uniting_by_design - Uniting by design
/// @integrating_by_design - Integrating by design
/// @harmonizing_by_design - Harmonizing by design
/// @synchronizing_by_design - Synchronizing by design
/// @coordinating_by_design - Coordinating by design
/// @orchestrating_by_design - Orchestrating by design
/// @conducting_by_design - Conducting by design
/// @leading_by_design - Leading by design
/// @guiding_by_design - Guiding by design
/// @directing_by_design - Directing by design
/// @managing_by_design - Managing by design
/// @governing_by_design - Governing by design
/// @controlling_by_design - Controlling by design
/// @regulating_by_design - Regulating by design
/// @standardizing_by_design - Standardizing by design
/// @normalizing_by_design - Normalizing by design
/// @optimizing_by_design - Optimizing by design
/// @improving_by_design - Improving by design
/// @enhancing_by_design - Enhancing by design
/// @refining_by_design - Refining by design
/// @perfecting_by_design - Perfecting by design
/// @mastering_by_design - Mastering by design
/// @excelling_by_design - Excelling by design
/// @succeeding_by_design - Succeeding by design
/// @winning_by_design - Winning by design
/// @achieving_by_design - Achieving by design
/// @accomplishing_by_design - Accomplishing by design
/// @fulfilling_by_design - Fulfilling by design
/// @realizing_by_design - Realizing by design
/// @materializing_by_design - Materializing by design
/// @manifesting_by_design - Manifesting by design
/// @creating_by_design - Creating by design
/// @building_by_design - Building by design
/// @constructing_by_design - Constructing by design
/// @developing_by_design - Developing by design
/// @producing_by_design - Producing by design
/// @manufacturing_by_design - Manufacturing by design
/// @fabricating_by_design - Fabricating by design
/// @assembling_by_design - Assembling by design
/// @composing_by_design - Composing by design
/// @authoring_by_design - Authoring by design
/// @writing_by_design - Writing by design
/// @coding_by_design - Coding by design
/// @programming_by_design - Programming by design
/// @scripting_by_design - Scripting by design
/// @automating_by_design - Automating by design
/// @orchestrating_by_design - Orchestrating by design
/// @choreographing_by_design - Choreographing by design
/// @directing_by_design - Directing by design
/// @producing_by_design - Producing by design
/// @managing_by_design - Managing by design
/// @operating_by_design - Operating by design
/// @running_by_design - Running by design
/// @executing_by_design - Executing by design
/// @performing_by_design - Performing by design
/// @delivering_by_design - Delivering by design
/// @shipping_by_design - Shipping by design
/// @deploying_by_design - Deploying by design
/// @releasing_by_design - Releasing by design
/// @launching_by_design - Launching by design
/// @introducing_by_design - Introducing by design
/// @presenting_by_design - Presenting by design
/// @showcasing_by_design - Showcasing by design
/// @demonstrating_by_design - Demonstrating by design
/// @exhibiting_by_design - Exhibiting by design
/// @displaying_by_design - Displaying by design
/// @revealing_by_design - Revealing by design
/// @unveiling_by_design - Unveiling by design
/// @exposing_by_design - Exposing by design
/// @opening_by_design - Opening by design
/// @unlocking_by_design - Unlocking by design
/// @enabling_by_design - Enabling by design
/// @empowering_by_design - Empowering by design
/// @facilitating_by_design - Facilitating by design
/// @supporting_by_design - Supporting by design
/// @assisting_by_design - Assisting by design
/// @helping_by_design - Helping by design
/// @aiding_by_design - Aiding by design
/// @serving_by_design - Serving by design
/// @benefiting_by_design - Benefiting by design
/// @advancing_by_design - Advancing by design
/// @progressing_by_design - Progressing by design
/// @evolving_by_design - Evolving by design
/// @growing_by_design - Growing by design
/// @developing_by_design - Developing by design
/// @maturing_by_design - Maturing by design
/// @aging_by_design - Aging by design
/// @seasoning_by_design - Seasoning by design
/// @ripening_by_design - Ripening by design
/// @blooming_by_design - Blooming by design
/// @flourishing_by_design - Flourishing by design
/// @thriving_by_design - Thriving by design
/// @prospering_by_design - Prospering by design
/// @succeeding_by_design - Succeeding by design
/// @winning_by_design - Winning by design
/// @triumphing_by_design - Triumphing by design
/// @conquering_by_design - Conquering by design
/// @overcoming_by_design - Overcoming by design
/// @surmounting_by_design - Surmounting by design
/// @transcending_by_design - Transcending by design
/// @surpassing_by_design - Surpassing by design
/// @exceeding_by_design - Exceeding by design
/// @outperforming_by_design - Outperforming by design
/// @outdoing_by_design - Outdoing by design
@responsibility "Demonstrates comprehensive Prism-specific annotation system"
function prismExtensions() -> Result<(), Error>
```

## AI Integration Features

### AI Context Blocks

**Structured AI metadata for machine comprehension:**

```prism
@aiContext {
    purpose: "Brief description of intent for AI systems",
    constraints: ["Important limitations AI should understand"],
    examples: ["Common usage patterns"],
    security: "Security considerations for AI",
    performance: "Performance characteristics",
    side_effects: ["List of side effects"],
    business_rules: ["Domain-specific rules"],
    compliance: ["Regulatory requirements"]
}
@responsibility "Processes secure payments with AI-comprehensible metadata"
function processPayment(request: PaymentRequest) -> Result<Transaction, PaymentError>
```

### AI Intent Tags

**Explicit intent declarations for AI systems:**

```prism
/// @ai:intent "Primary purpose for AI understanding"
/// @ai:pattern "Design pattern being implemented"
/// @ai:antipattern "Patterns to avoid"
/// @ai:constraint "Constraints AI must respect"
/// @ai:assumption "Assumptions AI can make"
/// @ai:optimization "Optimization opportunities"
/// @ai:warning "Critical warnings for AI"
/// @ai:example "AI-focused usage examples"
@responsibility "Provides AI-optimized authentication service"
function aiOptimizedAuth() -> Result<Session, AuthError>
```

## Compiler Integration

### Pre-Compilation Validation

**Documentation validation as type errors:**

```prism
// Missing @responsibility annotation
function invalidFunction() -> Result<(), Error>  // COMPILE ERROR: Missing @responsibility annotation

// Invalid responsibility length
@responsibility "This responsibility statement is way too long and exceeds the maximum character limit of 80 characters which will cause a compilation error"  // COMPILE ERROR: Responsibility too long

// Missing required parameter documentation
/// Function description
/// @returns Success or error
@responsibility "Processes user data"
function missingParamDoc(user: User) -> Result<(), Error>  // COMPILE ERROR: Missing @param documentation
```

### Semantic Integration

**Documentation integrates with semantic types:**

```prism
/// Automatically inherits semantic constraints from type system
/// 
/// @param amount Must be positive Money<USD> (enforced by type)
/// @param account Must be valid AccountId (enforced by type)
/// @effects [Database.Write, Audit.Log] (tracked by effect system)
@responsibility "Transfers money between accounts with semantic validation"
function transfer(amount: Money<USD>, account: AccountId) -> Result<Transaction, TransferError>
    effects [Database.Write, Audit.Log]
    requires amount > 0.USD
```

## Validation & Linting

### Linter Rules

```yaml
# .prism-doc-lint.yml
rules:
  required_annotations:
    - module_responsibility: error
    - module_description: error
    - module_author: error
    - function_responsibility: error
    - public_function_docs: error
    - public_type_docs: error
    
  content_validation:
    - responsibility_max_length: 80
    - description_max_length: 100  # Aligned with PSG-001 line length standards
    - no_empty_descriptions: error
    - require_examples: warning
    - require_error_docs: error
    
  ai_integration:
    - require_ai_context: warning
    - validate_ai_metadata: error
    - check_semantic_alignment: error
    
  documentation_completeness:
    - require_function_docs: error
    - require_ai_context: warning
    - no_empty_comments: error
    - validate_jsdoc_compatibility: error
```

**Note**: This document owns all documentation-related linting rules. Basic syntax rules are defined in PSG-001, and naming-related rules are in PSG-002.

### Automated Validation

```prism
// Compiler validates documentation completeness
validator DocumentationValidator {
    function validate_module(module: Module) -> Result<(), ValidationError> {
        if !module.has_responsibility() {
            return Err(ValidationError::MissingResponsibility(module.name))
        }
        
        if module.responsibility().len() > 80 {
            return Err(ValidationError::ResponsibilityTooLong(module.name))
        }
        
        for func in module.public_functions() {
            validate_function_docs(func)?
        }
        
        Ok(())
    }
}
```

## Examples

### Complete Module Example

```prism
@responsibility "Manages secure user authentication with multi-factor support"
@module "UserAuth"
@description "Comprehensive authentication system with security-first design"
@author "Security Team"
@version "2.1.0"
@stability Stable

module UserAuth {
    /// Core authentication types with security constraints
    section types {
        /// Secure session token with automatic expiration
        /// 
        /// @field token Cryptographically secure random token
        /// @field expires Automatic expiration timestamp
        /// @field user_id Associated user identifier
        /// @invariant Token must be cryptographically secure
        /// @example ```prism
        /// let session = Session {
        ///     token: generateSecureToken(),
        ///     expires: now() + 1.hour,
        ///     user_id: user.id
        /// }
        /// ```
        @responsibility "Represents secure session with automatic expiration"
        type Session = {
            token: SecureToken,
            expires: Timestamp,
            user_id: UserId
        }
    }
    
    section interface {
        /// Authenticates user with comprehensive security validation
        /// 
        /// Performs multi-factor authentication with security policy
        /// enforcement and comprehensive audit logging.
        /// 
        /// @param email User's verified email address
        /// @param password Plain text password (securely processed)
        /// @param mfa_code Optional multi-factor authentication code
        /// @returns Authenticated session or specific error details
        /// @throws CannotAuthenticateUser When credentials are invalid
        /// @throws AccountLocked When account is temporarily locked
        /// @throws MFARequired When MFA is required but not provided
        /// @effects [Database.Query, Audit.Log, Security.Validate]
        /// @performance "< 500ms under normal load conditions"
        /// @security "Implements constant-time password comparison"
        /// @example ```prism
        /// let result = authenticate(
        ///     email: "user@example.com",
        ///     password: "SecurePass123!",
        ///     mfa_code: Some("123456")
        /// )
        /// match result {
        ///     Ok(session) => handleAuthSuccess(session),
        ///     Err(error) => handleAuthError(error)
        /// }
        /// ```
        @responsibility "Authenticates users with comprehensive security validation"
        @aiContext {
            purpose: "Secure user authentication with MFA support",
            constraints: [
                "Never log passwords or tokens",
                "Implement rate limiting",
                "Use constant-time comparison"
            ],
            security: "Implements defense against timing attacks",
            business_rules: [
                "Account lockout after 5 failed attempts",
                "MFA required for admin accounts",
                "Session expires after 1 hour"
            ]
        }
        function authenticate(
            email: Email,
            password: PlainPassword,
            mfa_code: Option<MFACode>
        ) -> Result<Session, AuthError>
            effects [Database.Query, Audit.Log, Security.Validate]
            requires email.is_verified()
            ensures |result| match result {
                Ok(session) => session.expires > now(),
                Err(_) => true
            }
    }
}
```

## Tooling Integration

### Documentation Generation

```prism
// Automatic documentation generation
generator PrismDocGenerator {
    function generate_html(module: Module) -> HTMLDocument
    function generate_markdown(module: Module) -> MarkdownDocument
    function generate_json(module: Module) -> JSONDocument
    function generate_ai_context(module: Module) -> AIContext
}
```

### IDE Integration

```json
{
    "prism.documentation.validateOnSave": true,
    "prism.documentation.generateOnBuild": true,
    "prism.documentation.aiContextHints": true,
    "prism.documentation.responsibilityValidation": "error"
}
```

## Migration Strategy

### Phase 1: Core Annotations (Month 1)
- Add required @responsibility annotations
- Implement basic validation
- Create migration tools

### Phase 2: Full Documentation (Month 2)
- Complete JSDoc compatibility
- Add AI context blocks
- Integrate with compiler

### Phase 3: Advanced Features (Month 3)
- Custom markup system
- Semantic integration
- Advanced tooling

---

## Document History

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| 0.1.0 | 2025-01-17 | Team | Initial PrismDoc standards with compiler integration |

## Review Sign-offs

| Reviewer | Role | Status | Date |
|----------|------|--------|------|
| - | Language Design | Pending | - |
| - | Compiler Team | Pending | - |
| - | AI Integration | Pending | - |
| - | Documentation | Pending | - |